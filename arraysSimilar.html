<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ArraySimilar</title>
</head>
<body>
<script type="text/javascript">
    /*
     * param1 Array
     * param2 Array
     * return true or false
     */
    function arraysSimilar(arr1, arr2) {
        //判断类型
        if (!(arr1 instanceof Array) ||
            !(arr2 instanceof Array)) {
            return false;
        }
        //判断长度
        if (arr1.length != arr2.length) {
            return false;
        }
        //统计类型出现的个数；
        Types = ['array', 'string', 'boolean', 'number', 'null', 'undefined', 'function'
            , 'date', 'window'];

        function typeOf(v) {
            var r;
            if (v === null) r = 'null';
            else if (v instanceof Array) r = 'array';
            else if (v === window) r = "window";
            else if (v instanceof Date) r = 'date';
            else r = typeof v;
            return r;
        }

        //以防两个Map 会不一样长。
        var countMap1 = new Array(9);
        var countMap2 = new Array(9);
        for (var i = 0; i < arr1.length; i++) {
            var j = Types.indexOf(typeOf(arr1[i]));
            if (countMap1[j]) {
                countMap1[j]++;
            } else {
                countMap1[j] = 1;
            }

            var k = Types.indexOf(typeOf(arr2[i]));
            if (countMap2[k]) {
                countMap2[k]++;
            } else {
                countMap2[k] = 1;
            }

        }
        for (var i = 0; i < countMap2.length; i++) {
            if (countMap2[i] != countMap1[i]) {
                return false;
            }
        }
        return true;

    }

    document.write(
        arraysSimilar([null, 100], [100, {}])
    )
</script>

</body>
</html>