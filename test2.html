<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript">
        var stuNum = 2;
        window.onload = function () {

            // 鼠标移动改变背景,可以通过给每行绑定鼠标移上事件和鼠标移除事件来改变所在行背景色。
            var tr = document.getElementsByTagName("tr");
            for (var i = 0; i < tr.length; i++) {
                bgcChange(tr[i])
            }


        }

        function bgcChange(obj) {
            obj.onmouseover = function () {
                obj.style.backgroundColor = "#f2f2f2";
            }
            obj.onmouseout = function () {
                obj.style.backgroundColor = "#fff";
            }
        }

        // 编写一个函数，供添加按钮调用，动态在表格的最后一行添加子节点；
        function add() {
            stuNum++;
            var tr = document.createElement("tr");
            var td1 = document.createElement("td");
            if (stuNum < 10) {
                td1.innerHTML = "xh00" + stuNum;
            }
            else if (stuNum < 100) {
                td1.innerHTML = "xh0" + stuNum;
            }
            else td1.innerHTML = "xh" + stuNum;
            tr.appendChild(td1);
            var td2 = document.createElement("td");
            td2.innerHTML = "XXX";
            tr.appendChild(td2);
            var td3 = document.createElement("td");
//            var a =document.createElement("a");
//            a.href ="javascript:;";
//            a.onclick="del(this)"
//            a.innerHTML = "删除";
            td3.innerHTML = "<a href=\"javascript:void(0)\"  onclick=\"del(this)\">删除</a>"
//            td3.appendChild(a);
            tr.appendChild(td3);
            document.getElementsByTagName("table")[0].appendChild(tr);
            var tr = document.getElementsByTagName("tr");
            for (var i = 0; i < tr.length; i++) {
                bgcChange(tr[i])
            }
        }


        // 创建删除函数
        function del(obj) {
            var tr = obj.parentNode.parentNode;
            tr.parentNode.removeChild(tr);

        }


    </script>
</head>
<body>
<table border="1" width="50%" id="table">
    <tr>
        <th>学号</th>
        <th>姓名</th>
        <th>操作</th>
    </tr>

    <tr>
        <td>xh001</td>
        <td>王小明</td>
        <td><a href="javascript:void(0)" onclick="del(this)">删除</a></td>   <!--在删除按钮上添加点击事件  -->
    </tr>

    <tr>
        <td>xh002</td>
        <td>刘小芳</td>
        <td><a href="javascript:void(0)" onclick="del(this)">删除</a></td>   <!--在删除按钮上添加点击事件  -->
    </tr>

</table>
<input type="button" value="添加一行" onclick="add();"/>   <!--在添加按钮上添加点击事件  -->
</body>
</html>